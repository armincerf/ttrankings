#!/bin/bash

# Create html_files directory if it doesn't exist
mkdir -p html_files

# Function to download a match
download_match() {
    url="$1"
    # Extract match ID from URL
    match_id=$(echo "$url" | grep -oE 'team/[0-9]+/[0-9]+/[0-9]+/[0-9]+/[0-9]+' | tr '/' '_')
    if [ -n "$match_id" ]; then
        output_file="html_files/${match_id}.html"
        echo "Downloading $url to $output_file"
        curl -s "$url" > "$output_file"
        # Sleep to respect rate limits
        sleep 1
    fi
}

# Read URLs from the script and process each one
while IFS= read -r url; do
    if [[ $url == https://www.mkttl.co.uk/matches/team/* ]]; then
        download_match "$url"
    fi
done << 'EOF'
https://www.mkttl.co.uk/matches/team/11/45/2017/1/10
https://www.mkttl.co.uk/matches/team/41/24/2019/2/4
https://www.mkttl.co.uk/matches/team/31/13/2019/3/19
https://www.mkttl.co.uk/matches/team/35/67/2020/2/18
https://www.mkttl.co.uk/matches/team/69/48/2025/1/8
https://www.mkttl.co.uk/matches/team/45/61/2017/10/9
https://www.mkttl.co.uk/matches/team/57/36/2016/10/12
https://www.mkttl.co.uk/matches/team/45/2/2016/10/24
https://www.mkttl.co.uk/matches/team/57/70/2020/2/12
https://www.mkttl.co.uk/matches/team/44/70/2017/10/2
https://www.mkttl.co.uk/matches/team/14/15/2016/11/7
https://www.mkttl.co.uk/matches/team/47/91/2024/10/14
https://www.mkttl.co.uk/matches/team/63/88/2022/2/16
https://www.mkttl.co.uk/matches/team/45/70/2018/10/22
https://www.mkttl.co.uk/matches/team/99/98/2022/12/6
https://www.mkttl.co.uk/matches/team/74/53/2019/10/29
https://www.mkttl.co.uk/matches/team/38/10/2016/9/28
https://www.mkttl.co.uk/matches/team/85/19/2021/12/8
https://www.mkttl.co.uk/matches/team/67/9/2019/10/22
https://www.mkttl.co.uk/matches/team/20/79/2024/10/8
https://www.mkttl.co.uk/matches/team/64/44/2017/2/6
https://www.mkttl.co.uk/matches/team/38/45/2016/11/9
https://www.mkttl.co.uk/matches/team/13/30/2017/12/12
https://www.mkttl.co.uk/matches/team/10/56/2017/3/21
https://www.mkttl.co.uk/matches/team/18/21/2024/2/14
https://www.mkttl.co.uk/matches/team/37/15/2015/12/16
https://www.mkttl.co.uk/matches/team/2/11/2016/11/30
https://www.mkttl.co.uk/matches/team/37/60/2015/12/2
https://www.mkttl.co.uk/matches/team/36/61/2017/10/24
https://www.mkttl.co.uk/matches/team/21/4/2023/9/27
https://www.mkttl.co.uk/matches/team/70/14/2018/2/21
https://www.mkttl.co.uk/matches/team/49/7/2019/1/17
https://www.mkttl.co.uk/matches/team/59/2/2018/10/10
https://www.mkttl.co.uk/matches/team/4/19/2020/2/19
https://www.mkttl.co.uk/matches/team/41/48/2016/3/7
https://www.mkttl.co.uk/matches/team/15/14/2017/1/24
https://www.mkttl.co.uk/matches/team/16/52/2019/10/8
https://www.mkttl.co.uk/matches/team/65/15/2017/2/27
https://www.mkttl.co.uk/matches/team/69/19/2025/1/15
https://www.mkttl.co.uk/matches/team/18/3/2023/2/15
https://www.mkttl.co.uk/matches/team/29/2/2024/12/11
https://www.mkttl.co.uk/matches/team/82/81/2019/10/15
https://www.mkttl.co.uk/matches/team/84/74/2019/9/25
https://www.mkttl.co.uk/matches/team/6/27/2024/11/6
https://www.mkttl.co.uk/matches/team/3/20/2023/11/1
https://www.mkttl.co.uk/matches/team/56/36/2018/3/20
https://www.mkttl.co.uk/matches/team/72/24/2019/2/12
https://www.mkttl.co.uk/matches/team/84/16/2022/3/16
https://www.mkttl.co.uk/matches/team/13/51/2016/3/8
https://www.mkttl.co.uk/matches/team/10/56/2016/10/25
https://www.mkttl.co.uk/matches/team/59/24/2019/10/30
https://www.mkttl.co.uk/matches/team/54/70/2017/10/10
https://www.mkttl.co.uk/matches/team/27/6/2024/9/18
https://www.mkttl.co.uk/matches/team/1/58/2019/11/27
https://www.mkttl.co.uk/matches/team/29/43/2016/9/14
https://www.mkttl.co.uk/matches/team/26/58/2015/10/26
https://www.mkttl.co.uk/matches/team/32/47/2019/10/16
https://www.mkttl.co.uk/matches/team/55/85/2023/12/19
https://www.mkttl.co.uk/matches/team/15/36/2016/12/6
https://www.mkttl.co.uk/matches/team/16/52/2018/11/19
https://www.mkttl.co.uk/matches/team/21/4/2022/11/16
https://www.mkttl.co.uk/matches/team/11/10/2015/11/4
https://www.mkttl.co.uk/matches/team/60/11/2018/2/14
https://www.mkttl.co.uk/matches/team/76/61/2018/11/13
https://www.mkttl.co.uk/matches/team/35/85/2025/2/4
https://www.mkttl.co.uk/matches/team/27/3/2023/2/22
https://www.mkttl.co.uk/matches/team/40/24/2017/2/6
https://www.mkttl.co.uk/matches/team/10/9/2018/10/23
https://www.mkttl.co.uk/matches/team/32/59/2019/11/27
https://www.mkttl.co.uk/matches/team/2/29/2024/10/23
https://www.mkttl.co.uk/matches/team/33/73/2018/11/26
https://www.mkttl.co.uk/matches/team/29/79/2022/9/21
https://www.mkttl.co.uk/matches/team/61/14/2017/10/30
https://www.mkttl.co.uk/matches/team/48/92/2022/9/26
https://www.mkttl.co.uk/matches/team/64/14/2016/11/28
https://www.mkttl.co.uk/matches/team/4/21/2023/11/15
https://www.mkttl.co.uk/matches/team/60/38/2016/10/5
https://www.mkttl.co.uk/matches/team/84/89/2024/1/31
https://www.mkttl.co.uk/matches/team/1/85/2024/3/6
https://www.mkttl.co.uk/matches/team/66/12/2018/2/19
https://www.mkttl.co.uk/matches/team/21/49/2024/10/30
https://www.mkttl.co.uk/matches/team/63/74/2018/10/31
https://www.mkttl.co.uk/matches/team/60/15/2016/2/10
https://www.mkttl.co.uk/matches/team/43/59/2018/1/29
https://www.mkttl.co.uk/matches/team/15/2/2020/1/28
https://www.mkttl.co.uk/matches/team/69/32/2022/3/16
https://www.mkttl.co.uk/matches/team/56/64/2019/2/6
https://www.mkttl.co.uk/matches/team/64/67/2018/9/24
https://www.mkttl.co.uk/matches/team/71/2/2018/11/6
https://www.mkttl.co.uk/matches/team/10/11/2017/1/24
https://www.mkttl.co.uk/matches/team/1/49/2019/12/11
https://www.mkttl.co.uk/matches/team/56/45/2017/11/7
https://www.mkttl.co.uk/matches/team/25/68/2022/10/5
https://www.mkttl.co.uk/matches/team/24/47/2017/11/22
https://www.mkttl.co.uk/matches/team/48/43/2017/9/25
https://www.mkttl.co.uk/matches/team/60/37/2015/10/14
https://www.mkttl.co.uk/matches/team/15/69/2017/12/5
https://www.mkttl.co.uk/matches/team/69/63/2017/12/12
https://www.mkttl.co.uk/matches/team/5/18/2018/10/3
https://www.mkttl.co.uk/matches/team/45/60/2016/2/15
https://www.mkttl.co.uk/matches/team/64/56/2019/10/21
https://www.mkttl.co.uk/matches/team/44/15/2016/12/12
https://www.mkttl.co.uk/matches/team/35/9/2019/1/15
https://www.mkttl.co.uk/matches/team/9/54/2017/3/21
https://www.mkttl.co.uk/matches/team/49/47/2018/10/25
https://www.mkttl.co.uk/matches/team/81/63/2025/1/20
https://www.mkttl.co.uk/matches/team/20/22/2017/1/11
https://www.mkttl.co.uk/matches/team/19/21/2019/11/19
https://www.mkttl.co.uk/matches/team/31/48/2022/10/4
https://www.mkttl.co.uk/matches/team/6/5/2016/9/13
https://www.mkttl.co.uk/matches/team/51/45/2017/11/30
https://www.mkttl.co.uk/matches/team/1/28/2022/1/19
https://www.mkttl.co.uk/matches/team/34/64/2016/12/7
https://www.mkttl.co.uk/matches/team/55/25/2019/11/5
https://www.mkttl.co.uk/matches/team/63/45/2019/10/30
https://www.mkttl.co.uk/matches/team/27/3/2024/11/13
https://www.mkttl.co.uk/matches/team/70/76/2018/11/28
https://www.mkttl.co.uk/matches/team/45/36/2017/11/13
https://www.mkttl.co.uk/matches/team/44/14/2016/10/3
https://www.mkttl.co.uk/matches/team/39/77/2018/9/26
https://www.mkttl.co.uk/matches/team/2/75/2024/1/17
https://www.mkttl.co.uk/matches/team/63/57/2024/10/2
https://www.mkttl.co.uk/matches/team/84/106/2023/10/4
https://www.mkttl.co.uk/matches/team/33/54/2016/2/15
https://www.mkttl.co.uk/matches/team/44/36/2016/9/12
https://www.mkttl.co.uk/matches/team/28/29/2020/1/28
https://www.mkttl.co.uk/matches/team/21/104/2023/11/8
https://www.mkttl.co.uk/matches/team/38/60/2016/11/23
https://www.mkttl.co.uk/matches/team/48/32/2018/11/12
https://www.mkttl.co.uk/matches/team/60/11/2016/11/16
https://www.mkttl.co.uk/matches/team/16/52/2024/10/22
https://www.mkttl.co.uk/matches/team/2/103/2024/2/21
https://www.mkttl.co.uk/matches/team/16/105/2023/12/12
https://www.mkttl.co.uk/matches/team/45/44/2017/10/30
https://www.mkttl.co.uk/matches/team/53/16/2018/3/5
https://www.mkttl.co.uk/matches/team/57/84/2024/12/4
https://www.mkttl.co.uk/matches/team/28/41/2019/3/5
https://www.mkttl.co.uk/matches/team/40/72/2017/11/13
https://www.mkttl.co.uk/matches/team/72/46/2018/1/16
https://www.mkttl.co.uk/matches/team/45/11/2016/10/31
https://www.mkttl.co.uk/matches/team/91/29/2024/2/15
https://www.mkttl.co.uk/matches/team/45/10/2016/11/21
https://www.mkttl.co.uk/matches/team/25/58/2016/11/16
https://www.mkttl.co.uk/matches/team/18/55/2022/11/2
https://www.mkttl.co.uk/matches/team/79/92/2024/2/22
https://www.mkttl.co.uk/matches/team/59/29/2017/1/25
https://www.mkttl.co.uk/matches/team/46/5/2020/3/23
https://www.mkttl.co.uk/matches/team/19/18/2018/10/16
https://www.mkttl.co.uk/matches/team/80/56/2020/3/4
https://www.mkttl.co.uk/matches/team/21/17/2015/11/11
https://www.mkttl.co.uk/matches/team/10/38/2016/11/15
https://www.mkttl.co.uk/matches/team/72/29/2020/3/17
https://www.mkttl.co.uk/matches/team/57/88/2025/1/29
https://www.mkttl.co.uk/matches/team/13/35/2019/9/30
https://www.mkttl.co.uk/matches/team/25/5/2017/2/15
https://www.mkttl.co.uk/matches/team/38/11/2016/10/26
https://www.mkttl.co.uk/matches/team/84/88/2021/11/3
https://www.mkttl.co.uk/matches/team/47/7/2018/9/24
https://www.mkttl.co.uk/matches/team/60/36/2015/12/9
https://www.mkttl.co.uk/matches/team/43/50/2017/10/2
https://www.mkttl.co.uk/matches/team/59/31/2019/1/16
https://www.mkttl.co.uk/matches/team/12/45/2019/2/20
https://www.mkttl.co.uk/matches/team/28/46/2017/3/7
https://www.mkttl.co.uk/matches/team/13/2/2019/3/5
https://www.mkttl.co.uk/matches/team/15/60/2015/11/17
https://www.mkttl.co.uk/matches/team/2/77/2023/12/20
https://www.mkttl.co.uk/matches/team/10/11/2017/10/24
https://www.mkttl.co.uk/matches/team/57/12/2016/3/23
https://www.mkttl.co.uk/matches/team/41/33/2017/12/4
https://www.mkttl.co.uk/matches/team/2/13/2018/11/14
https://www.mkttl.co.uk/matches/team/12/66/2017/11/8
https://www.mkttl.co.uk/matches/team/54/14/2017/11/14
https://www.mkttl.co.uk/matches/team/58/25/2016/9/28
https://www.mkttl.co.uk/matches/team/63/66/2018/1/17
https://www.mkttl.co.uk/matches/team/48/80/2023/10/23
https://www.mkttl.co.uk/matches/team/89/81/2022/12/14
https://www.mkttl.co.uk/matches/team/58/25/2018/2/21
https://www.mkttl.co.uk/matches/team/53/77/2021/11/8
https://www.mkttl.co.uk/matches/team/24/8/2017/11/1
https://www.mkttl.co.uk/matches/team/36/15/2017/3/7
https://www.mkttl.co.uk/matches/team/64/35/2017/10/16
https://www.mkttl.co.uk/matches/team/57/77/2018/10/24
https://www.mkttl.co.uk/matches/team/58/49/2020/2/17
https://www.mkttl.co.uk/matches/team/84/100/2024/3/27
https://www.mkttl.co.uk/matches/team/77/64/2019/10/2
https://www.mkttl.co.uk/matches/team/9/60/2017/9/26
https://www.mkttl.co.uk/matches/team/21/3/2024/11/20
https://www.mkttl.co.uk/matches/team/29/1/2018/12/12
https://www.mkttl.co.uk/matches/team/7/47/2018/11/27
https://www.mkttl.co.uk/matches/team/35/71/2017/10/3
https://www.mkttl.co.uk/matches/team/33/8/2016/10/17
https://www.mkttl.co.uk/matches/team/29/11/2023/10/25
https://www.mkttl.co.uk/matches/team/33/48/2018/1/15
https://www.mkttl.co.uk/matches/team/4/6/2019/3/20
https://www.mkttl.co.uk/matches/team/84/99/2023/3/8
https://www.mkttl.co.uk/matches/team/30/77/2020/2/11
https://www.mkttl.co.uk/matches/team/41/54/2016/9/19
https://www.mkttl.co.uk/matches/team/77/56/2024/12/5
https://www.mkttl.co.uk/matches/team/21/20/2023/1/18
https://www.mkttl.co.uk/matches/team/27/18/2022/1/26
https://www.mkttl.co.uk/matches/team/49/5/2020/2/13
https://www.mkttl.co.uk/matches/team/57/34/2016/9/21
https://www.mkttl.co.uk/matches/team/27/25/2023/12/13
https://www.mkttl.co.uk/matches/team/1/25/2023/11/29
https://www.mkttl.co.uk/matches/team/77/15/2019/11/20
https://www.mkttl.co.uk/matches/team/55/25/2019/2/5
https://www.mkttl.co.uk/matches/team/81/95/2024/9/23
https://www.mkttl.co.uk/matches/team/1/13/2022/9/28
https://www.mkttl.co.uk/matches/team/82/12/2019/12/10
https://www.mkttl.co.uk/matches/team/85/79/2024/12/3
https://www.mkttl.co.uk/matches/team/2/82/2021/12/15
https://www.mkttl.co.uk/matches/team/1/18/2017/10/11
https://www.mkttl.co.uk/matches/team/57/15/2017/10/18
https://www.mkttl.co.uk/matches/team/84/97/2022/11/23
https://www.mkttl.co.uk/matches/team/10/2/2016/11/1
https://www.mkttl.co.uk/matches/team/44/36/2017/1/9
https://www.mkttl.co.uk/matches/team/60/56/2016/11/2
https://www.mkttl.co.uk/matches/team/50/48/2016/3/3
https://www.mkttl.co.uk/matches/team/57/101/2023/10/11
https://www.mkttl.co.uk/matches/team/59/55/2024/10/9
https://www.mkttl.co.uk/matches/team/66/52/2018/1/29
https://www.mkttl.co.uk/matches/team/24/46/2016/10/5
https://www.mkttl.co.uk/matches/team/46/68/2018/1/29
https://www.mkttl.co.uk/matches/team/2/73/2017/10/4
https://www.mkttl.co.uk/matches/team/80/103/2024/9/25
https://www.mkttl.co.uk/matches/team/14/69/2018/9/24
https://www.mkttl.co.uk/matches/team/57/38/2016/1/27
https://www.mkttl.co.uk/matches/team/69/49/2023/11/22
https://www.mkttl.co.uk/matches/team/84/63/2024/11/6
https://www.mkttl.co.uk/matches/team/73/60/2018/3/22
https://www.mkttl.co.uk/matches/team/10/9/2017/11/21
https://www.mkttl.co.uk/matches/team/21/104/2024/11/27
https://www.mkttl.co.uk/matches/team/42/2/2018/2/12
https://www.mkttl.co.uk/matches/team/15/57/2017/2/14
https://www.mkttl.co.uk/matches/team/92/55/2025/1/28
https://www.mkttl.co.uk/matches/team/48/43/2016/9/26
https://www.mkttl.co.uk/matches/team/84/99/2022/10/12
https://www.mkttl.co.uk/matches/team/25/59/2023/3/29
https://www.mkttl.co.uk/matches/team/71/13/2019/2/12
https://www.mkttl.co.uk/matches/team/80/11/2024/10/16
https://www.mkttl.co.uk/matches/team/29/48/2015/9/28
https://www.mkttl.co.uk/matches/team/21/17/2019/11/6
https://www.mkttl.co.uk/matches/team/47/59/2024/12/9
https://www.mkttl.co.uk/matches/team/48/13/2023/11/13
https://www.mkttl.co.uk/matches/team/42/73/2017/11/27
https://www.mkttl.co.uk/matches/team/53/39/2019/11/25
https://www.mkttl.co.uk/matches/team/31/50/2016/10/18
https://www.mkttl.co.uk/matches/team/59/50/2016/12/14
https://www.mkttl.co.uk/matches/team/6/20/2018/12/4
https://www.mkttl.co.uk/matches/team/60/53/2015/11/11
https://www.mkttl.co.uk/matches/team/57/16/2022/3/29
https://www.mkttl.co.uk/matches/team/70/69/2018/11/7
https://www.mkttl.co.uk/matches/team/51/14/2017/10/19
EOF

# Delete any files with the fixtures-results meta tag
echo "Checking for and removing any files with fixtures-results meta tag..."
find html_files -type f -name "*.html" -exec grep -l 'meta property="og:url" content="https://www.mkttl.co.uk/fixtures-results"' {} \; | xargs rm -f 